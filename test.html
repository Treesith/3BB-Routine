<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>KEC / BCT A / 2068 : Routine</title>
<link rel="stylesheet" href="style.css" />
<script type="text/javascript" src="js/routine.js"></script>

<script>

function system_class(){
	this.today_date = new Date();
	this.time_in_secs = this.today_date.getHours()*3600 + this.today_date.getMinutes()*60 + this.today_date.getSeconds();
	this.time = formatted_time(this.time_in_secs);
	this.day = this.today_date.getDay();
}


function period_timing_object(hrs, mins){
	this.hrs=hrs;
	this.mins;
}


function display_routine(routine_id){
	system = new system_class();
	current_time = system.time_in_secs;

	document.getElementById("routine").innerHTML = "";
	document.getElementById("time").innerHTML = system.time;
	
	for(j=0;j<period[routine_id].length;j++){
		period_start_time = period[routine_id][j].start_time_in_secs();
		period_end_time = period[routine_id][j].end_time_in_secs();

		if(current_time>period_start_time && current_time<=period_end_time){
			document.getElementById("time").innerHTML = formatted_time(period_end_time-current_time).replace(/:/g, " : ");
			document.getElementById("routine").innerHTML += "<b>"+period[routine_id][j].time()+' | '+period[routine_id][j].subject+"</b>";
		}else{
			document.getElementById("routine").innerHTML += period[routine_id][j].time()+' | '+period[routine_id][j].subject;
		}

		document.getElementById("routine").innerHTML += "<br>";
	}
}

</script>

<script>
days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

function init(){
	system = new system_class();
	day = system.day;

	document.getElementById("nav").innerHTML = "";

	for(i=0;i<period.length;i++){ 
		if(period[i].length != 0){
			if(day==i){
				document.getElementById("nav").innerHTML += "<b><a href=javascript:display_routine("+i+")>"+days[i]+"</a></b>"
			}else{
				document.getElementById("nav").innerHTML += "<a href=javascript:display_routine("+i+")>"+days[i]+"</a>";
			}
			document.getElementById("nav").innerHTML += " |";
		}
	}
	if(period[day].length==0){
		document.getElementById("routine").innerHTML="holiday :)";
	}else{
		display_routine(day);
	}
}


</script>

</head>
<body onload="init()">
<section>
	<header>
		<nav>
		<div id="nav"></div>
		</nav>
	</header>
</section>
	<article>
	<figure>
		<img src="" />
		<figcaption></figcaption>
	</figure>
	<div id="time"></div>
	<br />
	<div id="routine"></div>
	<input type=button value="Reload" onclick="init()"/>
	</article> 
	<aside>
	
	</aside>
<footer>

</footer>
</body>
</html>

